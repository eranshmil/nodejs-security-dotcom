---
interface CallToAction {
	text: string;
	href?: string;
	icon?: string;
	priceOld?: string;
	priceNew?: string;
}

export interface Props {
	title?: string;
	subtitle?: string;
	CTA1?: string | CallToAction;
	CTA2?: string | CallToAction;
	CTA3?: string | CallToAction;
	DISCOUNT_CALLOUT?: CallToAction;
	image?: string | any; // TODO: find HTMLElementProps
}

const {
	title,
	subtitle,
	CTA1 = await Astro.slots.render('CTA1'),
	CTA2 = await Astro.slots.render('CTA2'),
	CTA3 = await Astro.slots.render('CTA3'),
} = Astro.props;
---

<div>
	<section class="bg-white dark:bg-gray-900">
		<div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-8 lg:px-12">
			<!-- <a
				href={CTA2?.href}
				class="inline-flex justify-between items-center py-1 px-1 pr-4 mb-7 text-sm text-gray-700 bg-gray-100 rounded-full dark:bg-gray-800 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700"
				role="alert"
				target="_blank"
				rel="noopener"
			>
				<span class="text-xs bg-yellow-300 rounded-full text-slate-900 px-4 py-1.5 mr-3">New</span>
				<span class="text-sm font-medium">30% DISCOUNT</span>
				<svg class="ml-2 w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"
					><path
						fill-rule="evenodd"
						d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
						clip-rule="evenodd"></path></svg
				>
			</a> -->
			<!-- <h1
				class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white"
			>
			</h1> -->

			{
				title && (
					<div class="mb-4">
						<h1 class="text-5xl md:text-6xl font-extrabold leading-none tracking-tighter mb-4 font-heading dark:text-gray-200">
							<span class="bg-clip-text text-transparent bg-gradient-to-r from-purple-300 to-secondary-500">
								{title}
							</span>
						</h1>
						<h2 class="my-auto text-4xl font-semibold">{subtitle}</h2>
					</div>
				)
			}

			<div class="m-6 p-6">
				<code
					class="w-full text-sm sm:text-base inline-flex text-left items-center space-x-4 bg-gray-800 text-white p-4 pl-6"
				>
					<span class="flex gap-4">
						<span class="shrink-0 text-gray-500"> $</span>

						<span class="flex-1">
							<span> npm install</span>

							<span class="text-yellow-500"> static-server simple-git moment-timezone</span>
						</span>
					</span>
				</code>

				<code>
					<div class="w-full text-sm sm:text-base text-left items-center space-x-4 bg-gray-800 text-white -p-4 pl-6">
						<span class="text-gray-300">added 20 packages, and audited 21 packages in 4s</span>
					</div>
					<div
						class="w-full text-sm sm:text-base text-left items-center space-x-4 bg-gray-800 text-white -p-4 pb-4 pl-6"
					>
						<span class="text-red-700">6 high<span class="text-gray-300"> severity vulnerabilities</span></span>
					</div>
				</code>

				<p class="mt-2 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 xl:px-32 dark:text-gray-400">
					Don't take security vulnerabilities for granted.
					<span class="block"></span>
					Learn how to write secure code.
				</p>
			</div>

			<section class="bg-white dark:bg-gray-900">
				<div class="px-4 mx-auto max-w-screen-xl lg:px-6">
					<div class="grid gap-8 mb-6 lg:mb-4 md:grid-cols-1">
						<div class="items-end bg-gray-50 rounded-lg shadow sm:flex dark:bg-gray-800 dark:border-gray-700">
							<div class="relative m-auto">
								<img
									class="mx-auto shadow-lg"
									src="/images/book/book-command-injection-cover-light.png"
									alt="Node.js Secure Coding: Defending Against Command Injection Vulnerabilities"
									loading="eager"
								/>
							</div>

							<div class="relative m-auto">
								<img
									class="mx-auto shadow-lg"
									src="/images/book/book-command-injection-cover-dark.png"
									alt="Node.js Secure Coding: Defending Against Command Injection Vulnerabilities, dark mode edition"
									loading="eager"
								/>
							</div>

							<div class="p-5 min-w-fit">
								<h3 class="text-xl font-bold tracking-tight text-gray-900 dark:text-white">
									<a href="#">Digital book</a>
								</h3>

								<span class="text-gray-500 dark:text-gray-400 text-sm">PDF & EPUB</span>

								<div class="mt-3 mb-4 font-light text-gray-500 dark:text-gray-400">
									<ul role="list" class="space-y-2 my-7">
										<li class="flex space-x-1 items-center">
											<svg
												class="flex-shrink-0 w-3 h-3 text-blue-600 dark:text-blue-500"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white">106 Pages</span>
										</li>

										<li class="flex space-x-1 items-center mt-18">
											<svg
												class="flex-shrink-0 w-3 h-3 text-blue-600 dark:text-blue-500"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white">
												12 Vulnerable npm Packages</span
											>
										</li>

										<li class="flex space-x-1 items-center">
											<svg
												class="flex-shrink-0 w-3 h-3 text-blue-600 dark:text-blue-500"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white"
												>33 Self-assessment Questions</span
											>
										</li>

										<li class="flex space-x-1 items-center">
											<svg
												class="flex-shrink-0 w-3 h-3 text-blue-600 dark:text-blue-500"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white">10 Chapters</span>
										</li>

										<li class="flex space-x-1 items-center">
											<svg
												class="flex-shrink-0 w-3 h-3 text-purple-400 dark:text-purple600"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white">Dark Mode</span>
											<span
												class="bg-purple-600 text-slate-100 text-xs ml-1e px-1 font-medium rounded dark:bg-purple-600 dark:text-slate-100"
												>SPECIAL EDITION
											</span>
										</li>

										<li class="flex space-x-1 items-center">
											<svg
												class="flex-shrink-0 w-3 h-3 text-yellow-300 dark:text-yellow-300"
												aria-hidden="true"
												xmlns="http://www.w3.org/2000/svg"
												fill="currentColor"
												viewBox="0 0 20 20"
											>
												<path
													d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"
												></path>
											</svg>
											<span class="text-sm leading-tight text-gray-900 dark:text-white">Sale</span>
											<span
												class="bg-yellow-100 text-yellow-800 text-xs ml-1e px-1 font-medium rounded dark:bg-yellow-300 dark:text-yellow-900"
												>30% OFF
											</span>
										</li>
									</ul>

									<div class="mt-4"></div>
								</div>

								<div class="pt-12 flex items-center justify-between">
									<span class="text-sm font-base text-gray-900 dark:text-white">{CTA2?.priceNew}</span>
									<a
										class="w-full sm:w-auto inline-flex items-center justify-center text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:bg-gradient-to-l focus:ring-4 focus:outline-none focus:ring-purple-200 dark:focus:ring-purple-800 font-medium rounded text-sm px-5 py-2 text-center"
										href={CTA2.href}
										target="_blank"
										rel="noopener"
										>Buy
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<div class="mt-12">
				<div class="px-4 mx-auto text-center md:max-w-screen-md lg:max-w-screen-lg lg:px-36">
					<span class="font-semibold text-gray-400 uppercase"></span>

					<div class="mt-4">
						<div class="flex mb-2 -space-x-4">
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader1.jpg"
								alt="Thomas"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader2.jpg"
								alt="Manuel"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader3.jpg"
								alt="Yoni"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader21.jpg"
								alt="Tally"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader4.jpg"
								alt="Mateo"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader5.jpg"
								alt="Sergio"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader20.jpg"
								alt="Manu"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader6.jpg"
								alt="Hung"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader7.jpg"
								alt="Kriakos"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader19.jpg"
								alt="Sophia"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader8.jpg"
								alt="Daniel"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader9.jpg"
								alt="David"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader10.jpg"
								alt="Miguel"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader11.jpg"
								alt="Joachim"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader12.jpg"
								alt="JesÃºs"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader13.jpg"
								alt="DiMilan"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader14.jpg"
								alt="Ashif"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader15.jpg"
								alt="Ivan"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader16.jpg"
								alt="Heru"
								loading="lazy"
							/>
							<img
								class="w-10 h-10 border-2 border-white rounded-full dark:border-gray-800"
								src="/images/readers/reader17.jpg"
								alt="Ngoran"
								loading="lazy"
							/>
							<span
								class="pl-3 flex items-center justify-center w-12 h-10 text-xs font-medium text-white bg-gray-700 border-2 border-white rounded-full hover:bg-gray-600 dark:border-gray-800"
								>+99</span
							>
						</div>
						<p class="text-sm font-light">
							Join Kyriakos, Sergio, Mateo, and hundreds of developers who learn from Liran Tal
						</p>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>
